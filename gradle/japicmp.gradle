



import me.champeau.gradle.japicmp.JapicmpTask


//apply plugin: 'me.champeau.gradle.japicmp'


//tasks.register('japicmp', Class.forName('me.champeau.gradle.japicmp.JapicmpTask')) {
//  oldClasspath = files('path/to/reference.jar')
//  newClasspath = files(jar.archivePath)
//  onlyModified = true
//  failOnModification = true
//  txtOutputFile = file("$buildDir/reports/japi.txt")
//}

task japicmp(type: JapicmpTask, dependsOn: 'jar') {
  onlyIf { core_baseline != "SKIP" }
  oldClasspath = configurations.baseline
  newClasspath = files(jar.archivePath)
  onlyBinaryIncompatibleModified = true
  failOnModification = true
  includeSynthetic = true
  txtOutputFile = file("${project.buildDir}/reports/japi/japi.txt")
  htmlOutputFile = file("${project.buildDir}/reports/japi/japi.html")
}

