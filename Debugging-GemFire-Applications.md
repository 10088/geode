# Debugging GemFire Applications
# Work in Progress

This article provides some practical suggestions for debugging GemFire Applications.

## GemFire Artifacts
* cache.xml - provided by the application developer to configure the caches, regions and other aspects of the caches for both clients and servers.
* properties files - provided by the application developer to configure system properties and membership discovery
* System logs - logs generated by GemFire clients, servers, and locators. The contain information about membership, client connections, warnings about outstanding message requests and errors.  The log also displays the system properties.
* Statistics - statistics files generated by GemFire clients and/or servers contain information about the GemFire application. GemFire VSD (Visual Statistics Display) is used to graph the GemFire and system metrics recorded in these archives. 

## Additional information which can be obtained from a running system
* Stack dumps - When debugging, it is best to get stack dumps for all VMs in the Distributed System.  To determine if progress is being made, execute multiple thread dumps several seconds apart for comparison.  The following command prints the stacks for all threads in <pid1> to STDOUT (so these should be redirected to files named for each specific vm or pid).
``` $ kill -3 <pid1>```
* [jhat -   A web based application fro analysis of heap dumps created by hprof](http://docs.oracle.com/javase/7/docs/technotes/tools/share/jhat.html)
* [Eclipse Memory Analyzer](https://eclipse.org/mat/)

## General Guidelines
1. Know your environment - Machine (O/S and System settings), JDK, JVM properties (-Xmx -Xms), GC parameters
1. Know your configuration - Draw out a diagram of your system topology (servers, clients) and make a note of Listeners, Writers and other plug-ins.  
1. Know your application - On your system topology diagram, add notes on the initialization and other processing being done in different classes of members.
1. Verify your cache and region configuration
1. Confirm your system properties (in system log)

## Hangs between Peers


## Clients fails with ServerConnectivityExceptions
This can occur if servers are too busy to process client requests (for example with GC or distributed deadlocks)
* client connections expiration/timeout
* readTimeout

## Tips for incremental product development
### pass in the vm and thread id as arguments (to be logged) during Function Execution
### Use of CacheListeners to log events as they are processed
### Use of CacheListeners in clients to trace server side processing
